<div class="page admin">	
	<div class="pagecontent">	
		<div class="row">		
			<div class="dnone card-container col-sm-3 col-md-3">
				<div class="card">
					<div class="bg-dashboard">
						<div class="bg-transparent pdevicebg">
							<div class="row">
								<div class="col-md-12">
									<h3 class="custom-font">Warehouse Dashboard</h3>								
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>			
			<div class="card-container col-sm-4 col-md-3">
				<div class="card">
					<a ui-sref="app.inventory.devices">
						<div class="noback bg-blue">	
							<div class="itxt">
								<span class="text-lg">Warehouse Inventory Management</span>
							</div>
						</div>
					</a>
				</div>
			</div>			
			<div class="card-container col-sm-4 col-md-3">
				<div class="card">
					<a ui-sref="app.firmware.firmware-management">
						<div class="noback bg-slategray lt">
							<div class="itxt">
								<span class="text-lg">Firmware Management</span>
							</div>
						</div>
					</a>
				</div>
			</div>			
			<div class="card-container col-sm-4 col-md-3">
				<div class="card">
					<a ui-sref="app.monitor-diagnostics-and-reported-issues">
						<div class="noback bg-lightred">
							<div class="itxt">
								<span class="text-lg">Monitor Diagnostics &amp; Reported Issues</span>
							</div>
						</div>
					</a>
				</div>
			</div>			
		</div>
		
		<div class="row" ng-controller="DeviceCtrl">
			<div class="col-md-12">
				<section class="tile box-shadow">
					<div class="tile-header dvd dvd-btm">
						<h1 class="custom-font">{{page.title}}</h1>
						<ul class="controls">
							<li class="addpopup">
								<div ng-controller="ModalDemoCtrl">
									<script type="text/ng-template" id="myModalContent.html">
										<form name="add_device" role="form" ng-validate ng-submit="submitAddDevice(device,add_device)">
											<div class="modal-header"><h4 class="modal-title custom-font">Add Configuration Device</h4></div>
											<!-- <div class="model-body mt-10"><p style="color:red;">&nbsp;&nbsp; {{errorMessage}}</p></div> -->
											<div class="modal-body mt-5">
												<div class="row">
													<div class="form-group col-sm-6 col-md-6">
														<label for="">Device Model <span class="text-danger">*</span></label><br/>
														<select name="device_model" ng-model="device.device_model" class="form-control" ng-options="model for model in deviceModel" required>
															<option value="">Select</option>
														</select>
													</div>
													<div class="form-group col-sm-6 col-md-6">
														<label for="">Account Number/ICCID <span class="text-danger">*</span></label>


														<!-- <input type="text" name="account_no" id="" ng-model="device.account_no" class="form-control" number ui-mask="{{'99999 99999 99999 99999'}}" placeholder="" required> -->
														<input type="text" name="account_no" id="" ng-model="device.account_no" class="form-control" number minlength="19" maxlength="20" placeholder="" required>

													</div>
												</div>
												<div class="row">
													<div class="form-group col-sm-6 col-md-6">
														<label for="">Serial Number <span class="text-danger">*</span></label>
														<input no-space ng-model="device.serial_no" type="text" name="serial_no" id="" minlength="6" maxlength="32" class="form-control" placeholder="" required>
													</div>
													<div class="form-group col-sm-6 col-md-6">
														<label for="">Registration Code <span class="text-danger">*</span></label>
														<input no-space ng-model="device.reg_code" type="text" name="registration" minlength="6" maxlength="32" id="" class="form-control" placeholder="" required>
													</div>
												</div>
												<div class="row">
													<div class="form-group col-sm-6 col-md-6">
														<label for="">Phone Number  <span class="text-danger">*</span></label>
														<input type="text" name="phone" id="" class="form-control" ng-model="device.phone_no" ui-mask="{{'999 999 9999'}}" ui-mask-placeholder-char="space" required>
													</div>
													<div class="form-group col-sm-6 col-md-6">
														<label for="">Bluetooth Mac Id <span class="text-danger">*</span></label>
														<input type="text" name="ble" id="" class="form-control" ng-model="device.mac_address" pattern="^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$" oninvalid="setCustomValidity('Please enter valid mac address')" onchange="try{setCustomValidity('')}catch(e){}" placeholder="" required>
														<span ng-show="add_device.ble.$touched && add_device.ble.$invalid" class="error">Please enter valid mac address</span>
													</div>
												</div>
												<div class="row">
													<div class="col-sm-12 col-md-12">
														<label for="">Choose Options </label><br/>
														<div class="row" ng-init="value = 'off'">
															<div class="form-group col-sm-12 col-md-3">
																<label class="checkbox checkbox-custom-alt m-0">
																	<input type="checkbox" ng-model="device.device_cell" ng-true-value="1" ng-true-value="0"><i></i> Cell
																</label> 
															</div>
															<div class="form-group col-sm-12 col-md-3">
																<label class="checkbox checkbox-custom-alt m-0">
																	<input type="checkbox" ng-model="device.device_voip" ng-true-value="1" ng-true-value="0"><i></i> VoIP
																</label> 
															</div>
															<div class="form-group col-sm-12 col-md-3">
																<label class="checkbox checkbox-custom-alt m-0">
																	<input type="checkbox" ng-model="device.device_camera" ng-true-value="1" ng-true-value="0"><i></i> Camera
																</label>
															</div>
															<div class="form-group col-sm-12 col-md-3">
																<label class="checkbox checkbox-custom-alt m-0">
																	<input type="checkbox" ng-model="device.device_wiegand" ng-true-value="1" ng-true-value="0"><i></i> Wiegand
																</label>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="modal-footer">
												<div class="btn btn-lightred btn-rounded btn-ef btn-ef-4 btn-ef-4c" id="close" ng-click="cancel()"><i class="fa fa-arrow-left"></i> Close</div>
												<button type="submit" class="btn btn-success btn-rounded btn-ef btn-ef-3 btn-ef-3c"><i class="fa fa-arrow-right"></i> Submit</button>	
											</div>
										</form>		
									</script>
									<a ng-click="open()" class="btn btn-default btn-border btn-rounded btn-ef btn-ef-5 btn-ef-5b add"><i class="fa fa-plus"></i> <span>Add New Device</span></a>
								</div>								
							</li>
						</ul>
					</div>
					
					<div class="hometabs">
						<div class="tile-body table-custom">
							<div class="row pos-r mb-10 pb-20">								
								<div class="col-sm-9 col-md-6">
									<div class="row">
										<div class="col-sm-7 col-md-9 search">
											<input type="text" class="form-control" ng-model="searchText" maxlength="50" placeholder="Search by text...." ng-keyup="deviceInit($event)">
											<button class="btn btn-default br-2-r" type="button" ng-click="deviceInit()">Search</button>
										</div>
										<div class="col-sm-5 col-md-3 profilephoto csvupload">
											<div ng-controller="ModalDemo2Ctrl">
												<script type="text/ng-template" id="myModalContent2.html">
													<form name="form1" role="form">
														<div class="modal-header"><h4 class="modal-title custom-font">Upload CSV File</h4></div>
														<div class="modal-body mt-5 pb-30 mb-40">
															<label for="">Upload CSV file</label>
															<div class="profilephoto">
																<input type="file" class="filestyle user-profilep" ui-options="{ buttonText: 'Find file', iconName: 'fa fa-inbox' }" id="profilep-2" tabindex="-1">
																<div class="bootstrap-filestyle input-group"><input type="text" class="form-control " disabled=""> <span class="group-span-filestyle input-group-btn" tabindex="0"><label for="profilep-2" class="btn btn-default "><span class="glyphicon fa fa-inbox"></span> Find file</label></span></div>
															</div>											
														</div>
														<div class="modal-footer">
															<button class="btn btn-lightred btn-rounded btn-ef btn-ef-4 btn-ef-4c" ng-click="cancel()"><i class="fa fa-arrow-left"></i> Cancel</button>
															<button type="submit" class="btn btn-success btn-rounded btn-ef btn-ef-3 btn-ef-3c"><i class="fa fa-arrow-right"></i> Save</button>	
														</div>
													</form>		
												</script>
											</div>
										</div>
									</div>
								</div>
								
								<div class="col-sm-3 col-md-6">
									<div class="gridlistbar gridlistbar599 ta-r pull-right">
										<label class="control-label">View by</label>
										<a href="" class="list-icon" ng-class="{active: layout == 'list'}" ng-click="changeClass()"><i class="fa fa-th-list" aria-hidden="true"></i></a>
										<a href="" class="grid-icon" ng-class="{active: layout == 'grid'}" ng-click="changeaClass()"><i class="fa fa-th" aria-hidden="true"></i></a>
									</div>
								</div>
							</div>
							<div ng-if="result">									
								<div layout="row" ng-class="statusclass">									
									{{result}}
								</div>
							</div>
							<div ng-class="class">
							
								<div class="glview">
									<md-content>			
										<md-card ng-repeat="device in devices | limitTo:totalDisplayed | filter:text | filter:title | filter:client | filter:serialno | filter:registrationcode | orderBy:myOrderBy track by device.device_id">
											<md-card-content>
												<h2 class="md-title">{{ device.device_serial_no }}</h2>
												<div class="overflow">
													<div class="list-view">
														<p><span>Model No</span><span class="devicelengths">: {{ device.device_model}}</span></p>
														<p><span>Client</span><span class="devicelengths">: {{ device.facility_name | warehouseClientNameInList}}</span></p>
														<p><span>Serial No.</span><span class="devicelengths">: {{ device.device_serial_no }}</span></p>
													</div>
													<div class="list-view grid-hide">
														<p><span>Reg Code</span><span class="devicelengths">: {{ device.device_registration_code }}</span></p>
														<p><span>Mac Id</span><span class="devicelengths">: {{ device.device_mac_address }}</span></p>
														<p><span>Create Date</span><span class="devicelengths">: {{ device.device_created_on | date :  "dd.MM.y"  }}</span></p>
													</div>
												</div>
											</md-card-content>
											<div class="md-actions" layout="row" layout-align="center center">
												<a class="btn btn-orange btn-border btn-rounded" ui-sref="app.inventory.view-device({device_id:device.device_id})">View</a>
												<a class="btn btn-success btn-border btn-rounded {{device.facility_name!='null' ? 'disable-button' : ''}}" ui-sref="app.inventory.edit-device({device_id:device.device_id})" >Update</a>
												<a class="btn btn-danger btn-border btn-rounded {{device.facility_name!='null' ? 'disable-button' : ''}}" ng-click="showConfirm($event,device.device_id,device.device_serial_no)">Delete</a>
											</div>
										</md-card>										
									</md-content>
									<button class="btn btn-success btn-border btn-rounded m-0-auto f-wm" ng-click="loadMore()" ng-style="lmbtn">Load more</button>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
</div>