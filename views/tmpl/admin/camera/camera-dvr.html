<div class="page admin">
	<div class="pageheader backpage">
		<a href back-button><i class="fa fa-arrow-left"></i> Back</a>
	</div>

	<div class="pagecontent">
		<div class="row">
			<div class="dnone card-container col-sm-3 col-md-3">
				<div class="card">
					<div class="bg-dashboard">
						<div class="bg-transparent cameradvrbg">
							<div class="row">
								<div class="col-md-12">
									<h3 class="custom-font">{{page.title}}</h3>
									<p>{{page.subtitle}}</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="card-container col-sm-4 col-md-3">
				<div class="card">
					<a ui-sref="app.admin.device.devices">
						<div class="noback bg-blue">
							<div class="row">
								<div class="col-xs-6 ta-r">
									<div class="iconbx">
										<img src="images/device-icon.png" alt="">
									</div>
								</div>
								<div class="col-xs-6">
									<div class="itxt">
										<p class="text-elg text-strong mt-5 mb-5">{{dashboardData.primary_device}}</p>
										<span class="text-lg">Devices</span>
									</div>
								</div>
							</div>
						</div>
					</a>
				</div>
			</div>
			<div class="card-container col-sm-4 col-md-3">
				<div class="card">
					<a ui-sref="app.admin.door.doors">
						<div class="noback bg-slategray lt">
							<div class="row">
								<div class="col-xs-6 ta-r">
									<div class="iconbx">
										<img src="images/doors-icon.png" alt="">
									</div>
								</div>
								<div class="col-xs-6">
									<div class="itxt">
										<p class="text-elg text-strong mt-5 mb-5">{{dashboardData.door}}</p>
										<span class="text-lg">Doors</span>
									</div>
								</div>
							</div>
						</div>
					</a>
				</div>
			</div>
			<div class="card-container col-sm-4 col-md-3">
				<div class="card">
					<a ui-sref="app.admin.user.users">
						<div class="noback bg-lightred">
							<div class="row">
								<div class="col-xs-6 ta-r">
									<div class="iconbx">
										<img src="images/users-icon.png" alt="">
									</div>
								</div>
								<div class="col-xs-6">
									<div class="itxt">
										<p class="text-elg text-strong mt-5 mb-5">{{dashboardData.user}}</p>
										<span class="text-lg">Users</span>
									</div>
								</div>
							</div>
						</div>
					</a>
				</div>
			</div>
		</div>

		<div class="row" ng-controller="CameraDVRCtrl">
			<div class="col-md-12">
				<section class="tile box-shadow" fullscreen="isFullscreen06">
					<div class="hometabs">
						<div id="camerandvr" class="table-custom">
							<uib-tabset class="tabs-dark">
								<uib-tab heading="Live Feeds">
									<div class="wrap-reset m-0">
										<div class="profile-settings">
											<div class="row pos-r mb-20">
												<div class="col-sm-4 col-md-3">
													<div class="gridlistbar ta-l">
														<label class="control-label">No of Camera</label>
														<span style="display: inline-block;" uib-dropdown on-toggle="toggled(open)">
															<a href uib-dropdown-toggle class="list-icon" ng-class="{active: layout == 'onecam'}" ng-click="cameraInit(1,1)"><i class="fa fa-stop" aria-hidden="true"></i></a>
															<ul class="dropdown-menu with-arrow animated littleFadeInRight">
																<li><a href="" ng-click="changedClass()">Camera 1</a></li>
																<li><a href="" ng-click="changedClass()">Camera 2</a></li>
																<li><a href="" ng-click="changedClass()">Camera 3</a></li>
																<li><a href="" ng-click="changedClass()">Camera 4</a></li>
																<li><a href="" ng-click="changedClass()">Camera 5</a></li>
																<li><a href="" ng-click="changedClass()">Camera 6</a></li>
															</ul>
														</span>
														<span style="display: inline-block;" uib-dropdown on-toggle="toggled(open)">
															<a href uib-dropdown-toggle class="list-icon" ng-class="{active: layout == 'twocam'}"><i class="fa fa-pause" aria-hidden="true"></i></a>
															<ul class="dropdown-menu with-arrow animated littleFadeInRight">
																<li><a href="" ng-click="cameraInit(1,2)">Camera 1-2</a></li>
																<li><a href="" ng-click="cameraInit(3,2)">Camera 3-4</a></li>
																<li><a href="" ng-click="cameraInit(5,2)">Camera 5-6</a></li>
															</ul>
														</span>
														<span style="display: inline-block;" uib-dropdown on-toggle="toggled(open)">
															<a href uib-dropdown-toggle class="list-icon" ng-class="{active: layout == 'fourcam'}"><i class="fa fa-th-large" aria-hidden="true"></i></a>
															<ul class="dropdown-menu with-arrow animated littleFadeInRight">
																<li><a href="" ng-click="cameraInit(1,4)">Camera 1-4</a></li>
																<li><a href="" ng-click="cameraInit(2,4)">Camera 2-6</a></li>
															</ul>
														</span>
														<a href="" class="grid-icon" ng-class="{active: layout == 'sixcam'}" ng-click="changeaClass()" ng-click="cameraInit(1,6)"><i class="fa fa-th-large" aria-hidden="true" style="margin-right:-6px;"></i><i class="fa fa-th-large" aria-hidden="true"></i></a>
													</div>
												</div>
												<!-- <div class="col-sm-4 col-md-4">
													<div class="gridlistbar ta-c">
														<a href="" uib-tooltip="Refreshes the connections"><i class="fa fa-refresh" aria-hidden="true"></i></a>
														<a href="" uib-tooltip="Clears Live Feed"><i class="fa fa-eraser" aria-hidden="true"></i></a>
														<div ng-controller="ModalDemoCtrl" style="display: inline-block; cursor: pointer;">
															<script type="text/ng-template" id="myModalContent.html">
																<form name="form1" role="form">
																	<div class="modal-header"><h4 class="modal-title custom-font">Create a new camera group</h4></div>
																	<div class="modal-body mt-5">
																		<div class="form-group row">
																			<div class="col-sm-12 col-md-12">
																				<label for="">Camera Group Name</label>
																				<input type="text" name="" id="" class="form-control" placeholder="">
																			</div>
																		</div>
																	</div>
																	<div class="modal-footer">
																		<button class="btn btn-lightred btn-rounded btn-ef btn-ef-4 btn-ef-4c" ng-click="cancel()"><i class="fa fa-arrow-left"></i> Cancel</button>
																		<button type="submit" class="btn btn-success btn-rounded btn-ef btn-ef-3 btn-ef-3c"><i class="fa fa-arrow-right"></i> Ok</button>	
																	</div>
																</form>		
															</script>
															<a ng-click="open()" uib-tooltip="Updates the current camera group"><i class="fa fa-floppy-o" aria-hidden="true"></i></a>
														</div>
														<a href="" ng-click="showConfirm($event)" uib-tooltip="Deletes the current camera group"><i class="fa fa-trash-o" aria-hidden="true"></i></a>
														<a href="" uib-tooltip="Makes the current camera group the default camera group"><i class="fa fa-home" aria-hidden="true"></i></a>
													</div>
												</div> -->
												<div class="col-sm-4 col-md-5 gridlistbar ta-r">{{cam_group.camera_id}}
													<div style="width: 60%;display: none;margin-right: 10px;" id="camform">
														<form ng-submit="addCameraGroup(cam1group,camera_id)" name="cam_group">
															<input type="hidden" ng-model="camera_id" name="">
															<input type="text" class="form-control" name="group_name" ng-model="cam1group.group_name" style="display: inline-block; width: 70%;"
															    value="ew">

															<button type="submit" class="btn btn-default btn-rounded btn-ef btn-ef-6 btn-ef-6a" title="Submit" aria-label="Submit"><i class="fa fa-check" aria-hidden="true"></i></button>
															<button type="button" ng-click="hidecamadd()" class="btn btn-default btn-rounded btn-ef btn-ef-6 btn-ef-6a" title="Cancel"
															    aria-label="Cancel"><i class="fa fa-times" aria-hidden="true"></i></button>
														</form>
													</div>
													<button ng-click="showcamadd()" class="btn btn-default btn-rounded btn-ef btn-ef-6 btn-ef-6a" editable-text="user.name">{{ camgroup.name || 'empty' }}</button>
												</div>
												<div class="col-sm-2 col-md-4 pull-right">
													<div class="row gridlistbar">
														<div class="col-sm-12 col-md-6">
															<select class="form-control"><option>Select Facility</option>></select>
														</div>
														<div class="col-sm-12 col-md-6 ta-r">
															<select class="form-control">
																<option selected>Select the camera group</option>
																<option>Camera group 1</option>
																<option>Camera group 2</option>
																<option>Camera group 3</option>
																<option>Camera group 4</option>
																<option>Camera group 5</option>
																<option>Camera group 6</option>
																<option>Camera group 7</option>
																<option>Camera group 8</option>
																<option>Camera group 9</option>
															</select>
														</div>
													</div>
												</div>
											</div>
											<div ng-if="result">
												<div layout="row" ng-class="statusclass">
													{{result}}
												</div>
											</div>
											<div ng-class="class">
												<div class="livevideo" ng-repeat="camera in cameras">
													<div class="selectcam">
														{{camera.camera_username}}{{camera.camera_id}}


														<label class="control-label pull-right" uib-dropdown on-toggle="toggled(open)">
															<a href uib-dropdown-toggle><i class="fa fa-caret-down" aria-hidden="true"></i></a>
															<ul class="dropdown-menu with-arrow animated littleFadeInRight">
																<li><a href="">Camera 1</a></li>
																<li><a href="">Camera 2</a></li>
																<li><a href="">Camera 3</a></li>
																<li><a href="">Camera 4</a></li>
																<li><a href="">Camera 5</a></li>
																<li><a href="">Camera 6</a></li>
															</ul>
														</label>
													</div>
												</div>
												<div class="video">
													<div id="boundary">

														<div class="content-absolute">
															<div id="vxg_media1" class="content">
															</div>
														</div>

													</div>
												</div>
											</div>
										</div>
									</div>
								</uib-tab>
							</uib-tabset>
						</div>
					</div>
				</section>
			</div>
		</div>

	</div>
</div>
<script>
	// Opera 8.0+
	var isOpera = (!!window.opr && !!opr.addons) || !!window.opera || navigator.userAgent.indexOf(' OPR/') >= 0;

	// Firefox 1.0+
	var isFirefox = typeof InstallTrigger !== 'undefined';

	// Safari 3.0+ "[object HTMLElementConstructor]" 
	var isSafari = /constructor/i.test(window.HTMLElement) || (function (p) {
		return p.toString() === "[object SafariRemoteNotification]";
	})(!window['safari'] || safari.pushNotification);

	// Internet Explorer 6-11
	var isIE = /*@cc_on!@*/ false || !!document.documentMode;

	// Edge 20+
	var isEdge = !isIE && !!window.StyleMedia;

	// Chrome 1+
	var isChrome = !!window.chrome && !!window.chrome.webstore;

	// Blink engine detection
	var isBlink = (isChrome || isOpera) && !!window.CSS;
	var isChrome = !!window.chrome && !!window.chrome.webstore;
	// Blink engine detection
	var isBlink = (isChrome || isOpera) && !!window.CSS;
	if (isSafari) {
		var vlc = 0;
		for (var i = 0; i < navigator.plugins.length; i++) {
			var plugin = navigator.plugins;
			console.log(plugin[4][1].type);
			for (var j = 0; j < plugin[i].length; j++) {
				if (plugin[i][j].type == "application/x-vlc-plugin") {
					vlc = 1;
				}
			}
		}
		if (vlc == 1) {
			document.getElementById("vxg_media1").innerHTML =
				"<embed id='player' type='application/x-vlc-plugin' class='lv_player'  name='player' target='rtsp://mpv.cdn3.bigCDN.com:554/bigCDN/mp4:bigbuckbunnyiphone_400.mp4'   autoplay='yes'   loop='yes' toolbar=false  width='100%' height='480' />";
		} else {
			document.getElementById("vxg_media1").innerHTML =
				'<a class="btn" href="http://35.162.244.123:8080/installPlugin.command">Click Here to download Plugin</a>'
		}
	} else if(isChrome) {
		document.getElementById("vxg_media1").innerHTML =
			'<div id="vxg_media_player1" class="vxgplayer" url="rtsp://mpv.cdn3.bigCDN.com:554/bigCDN/mp4:bigbuckbunnyiphone_400.mp4" aspect-ratio latency="3000000" autostart controls avsync></div>';
		setTimeout(function () {
			vxgplayer('vxg_media_player1').onReadyStateChange(function (onreadyState) {
				console.log("player LOADED: versionPLG=" + vxgplayer('vxg_media_player1').versionPLG() + " versionAPP=" +
					vxgplayer('vxg_media_player1').versionAPP());
				vxgplayer('vxg_media_player1').play();
			});
			vxgplayer('vxg_media_player1').onError(function (onErr) {
				console.log("player ERROR: " + vxgplayer('vxg_media_player1').error());
			});
		}, 2000);
	}else{		
		document.getElementById("vxg_media1").innerHTML ='<a>Browser not supported</a>';
	}
</script>