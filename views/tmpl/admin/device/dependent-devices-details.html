<div class="page page-profile">
	<div class="pageheader backpage">		
		<a href back-button><i class="fa fa-arrow-left"></i> Back</a>
	</div>
	
	<div class="pagecontent">
		<div class="row">		
			<div class="card-container col-lg-3 col-sm-6 col-sm-12">
				<div class="card">
					<div class="bg-dashboard pdevicebg">
						<div class="bg-transparent">
							<div class="row">
								<div class="col-md-12">
									<h3 class="custom-font">{{page.title}}</h3>
									<p>{{page.subtitle}}</p>									
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<flip-header></flip-header>	
		</div>
		
		<div class="row">
			<div class="col-md-4">
				<!-- <section class="tile tile-simple">
					<div class="tile-widget p-30 text-center">
						<div class="thumb thumb-xxll mb-20">
							<img class="img-circle" src="images/device/3.jpg" alt="">
						</div>
						<h3 class="mb-10"><strong>{{details.device_name}}</strong></h3>
						<span class="text-muted">{{details.device_model}} </span>
						<span class="text-muted"><span ng-repeat="(key,features) in details.features">{{key|uppercase}}<span ng-if="!$last">&nbsp;|</span> </span></span>
					</div> 
					<div class="tile-body text-center bg-blue p-0"> 
						<ul class="list-inline tbox m-0">
							<li class="tcol bg-blue dker p-10">
								<h2 class="m-0">1</h2>
								<span class="text-transparent-white">User</span>
							</li>
						</ul>
					</div>  
				</section> --> 
				<section class="tile tile-simple">
					<div class="tile-widget p-30 text-center">
						<div class="thumb thumb-xxll mb-20">
							<img class="img-circle" src="images/device/3.jpg" alt="">
						</div>
						<h3 class="mb-10"><strong>{{details.device_name}}</strong></h3>
						<span class="text-muted">{{details.device_model}}</span>
						<div class="mt-40">
							<a ui-sref="app.admin.user.users" class="btn btn-rounded-20 btn-sm btn-lightred ml-5 mr-5">Add User</a>
							<a ng-click="deleteThisDevice()" class="btn btn-rounded-20 btn-sm btn-slategray">Delete Device</a>
						</div>
					</div> 
					<div class="tile-body text-center bg-blue p-0"> 
						<ul class="list-inline tbox m-0">
							<li class="tcol bg-blue dker p-10">
								<h2 class="m-0">1</h2>
								<span class="text-transparent-white">User</span>
							</li>
						</ul>
					</div>  
				</section> 
			</div>
			
			<div class="col-md-8" ng-controller="DependentDevicesDetailsCtrl"> 
				<section class="tile tile-simple"> 
					<div class="tile-body p-0"> 
						<uib-tabset class="tabs-dark"> 
							<uib-tab heading="Device Detail">
								<div class="wrap-reset"> 
									<div class="row">
										<div class="col-md-6">
											<div class="form-group legend">
												<h4><strong>Device</strong> Details</h4>
											</div>
											<div class="form-group profiledetail">
												<p><label>Facility Name</label> {{details.facility_name}}</p>
												<p><label>Device Name</label> {{details.device_name}}</p>
												<p><label>Model Name</label> {{details.device_model}}</p>
												<p><label>Serial No.</label> {{details.device_serial_no}}</p>
												<p><label>Device Type</label> {{details.device_type}}</p>
												<p><label>Technician</label> {{details.technician_name}}</p>											
											</div>
										</div>
										<div class="col-md-6">
											<div class="form-group legend">
												<h4><strong>Device</strong> Status</h4>
											</div>
											<div class="form-group">													
												<div class="tile-body p-0">
													<table class="table table-bordered dstatus">
														<thead>
															<tr>
																<th>Settings</th>
																<th>Status</th>
															</tr>
														</thead>
														<tbody>
															<tr ng-repeat="(key,features) in details.features">
																<td>{{key | uppercase}}</td>
																<td class="{{features|deviceFeatureFilter}}"><i class="fa fa-circle"></i> {{features|deviceFeatureFilter | capitalize}}</td>
															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
								</div>
							</uib-tab>
							<uib-tab heading="Users">
								<div class="wrap-reset"> 
									<div class="table-custom">
										<div class="row pos-r mb-20">
											<div class="col-md-4 filterorder">
												<label class="control-label" ng-init="filtershow=true">
													<a href="javascript:void()"><input type="checkbox" ng-model="filtershow" class="hideshowfilter"/>Filter by</a>
												</label>
												<label class="control-label" uib-dropdown on-toggle="toggled(open)">
													<a href uib-dropdown-toggle style="border-right: 0 none; ">Order by</a>
													<ul class="dropdown-menu with-arrow animated littleFadeInUp">
														<li><a href="" ng-click="orderByMe('name')">Name</a></li>
														<li><a href="" ng-click="orderByMe('group')">Group</a></li>
													</ul>
												</label>
											</div>
											<div class="col-md-4 search">
												<input type="text" class="form-control" maxlength="50" placeholder="Search by text....">
												<button class="btn btn-default br-2-r" type="button">Search</button>
											</div>
											<div class="col-md-4">
												<div class="gridlistbar ta-r pull-right">
													<label class="control-label">View by</label>
													<a href="" class="list-icon" ng-class="{active: layout == 'list'}" ng-click="changeClass()"><i class="fa fa-th-list" aria-hidden="true"></i></a>
													<a href="" class="grid-icon" ng-class="{active: layout == 'grid'}" ng-click="changeaClass()"><i class="fa fa-th" aria-hidden="true"></i></a>
												</div>
											</div>
											<div class="filterfields" ng-hide="filtershow">
												<div class="col-md-4">
													<label for="fbtext" class="control-label">Search by text</label> 
													<input type="text" class="form-control" id="fbtext" ng-model="text">
												</div>
												<div class="col-md-4">
													<label for="fbtitle" class="control-label">Search by name</label>
													<input type="text" class="form-control" id="fbtitle" ng-model="name">
												</div>
												<div class="col-md-4">
													<label for="fblocation" class="control-label">Search by Group</label>
													<input type="text" class="form-control" id="fblocation" ng-model="group">
												</div>
											</div>
										</div>
										<div ng-if="result">									
											<div layout="row" ng-class="statusclass">									
												{{result}}
											</div>
										</div>
										<div ng-class="class" ng-cloak>
											<div class="glview">
												<md-content>
													<md-card class="slaveusers" ng-repeat="user in users | limitTo:totalDisplayed | filter:text | filter:name | filter:group | orderBy:myOrderBy">
														<a ui-sref="app.admin.user.user-profile"><img ng-src="{{imagePath}}/users/{{ user.imagename }}.jpg" class="md-card-image" alt="Washed Out"></a>
														<md-card-content>
															<h2 class="md-title">{{ user.name }}</h2>
															<p>{{ user.phone }}</p>
														</md-card-content>
														<div class="md-actions" layout="row" layout-align="center center">
															<a class="btn btn-orange btn-border btn-rounded" ui-sref="app.admin.user.user-profile">View</a>
															<a class="btn btn-success btn-border btn-rounded" ui-sref="app.admin.user.user-profile">Edit</a>
															<a class="btn btn-danger btn-border btn-rounded" ng-click="showConfirm($event)">Remove</a>
														</div>
													</md-card>
												</md-content>
											</div>
										</div>
									</div>
								</div>
							</uib-tab>
							<uib-tab heading="Edit Device">
								<div class="wrap-reset"> 
									<form name="form1" role="form" ng-submit="editFormSubmit(editDevice)">
										<div class="modal-body">											
											<div class="row">
												<div class="form-group col-sm-6">
													<label for="">Device Name</label>
													<input type="text" name="" id="" class="form-control mb-10" ng-model="editDevice.device_name">
												</div>
												<div class="form-group col-sm-6">
													<label for="">Model Name</label>
													<input type="text" name="" id="" class="form-control mb-10" ng-model="editDevice.device_model" disabled>
												</div>
											</div>
											<div class="row">
												<div class="form-group col-sm-6">
													<label for="">Serial Number</label>
													<input type="text" name="" id="" class="form-control mb-10" ng-model="editDevice.device_serial_no" disabled>
												</div>
												<div class="form-group col-sm-6">
													<label for="">Technician </label><br/>
													<select class="form-control" ng-options="item.technician_id as item.technician_name for item in technicianList track by item.id"  ng-model="editDevice.device_technician_id">
														<option value="">Select</option>
														
													</select>
													<!--<small class="pull-right" style="margin-bottom:-5px;"><a ui-sref="app.admin.support.technician">Add Technician</a></small>-->
												</div>
											</div>
											<div class="row">
												<div class="form-group col-sm-6">
													<label for="">Device Type</label><br/>
													<div class="btn-group btnrounded">
														<label class="btn btn-default" ng-model="editDevice.device_type" uib-btn-radio="'master'" style="pointer-events: none;">Primary</label>
														<label class="btn btn-default" ng-model="editDevice.device_type" uib-btn-radio="'slave'" style="pointer-events: none;">Dependent</label>
													</div>
													<div class="slavevalues" ng-hide="editDevice.device_type=='master'">
														<select class="form-control mb-10" ng-model="editDevice.device_master_id" ng-options="item.device_id as item.device_name for item in deviceList">
															<option>Select Primary Device</option>
															<!-- <option value=2>Reception Room</option>
															<option value=3>Conference Room</option>
															<option value=4>Server Room</option>
															<option value=5>Meeting Room</option>
															<option value=6>Development Room</option>
															<option value=7>Boardroom</option>
															<option value=8>Managers Room</option>
															<option value=9>Director Room</option>
															<option value=10>Inventory Room</option> -->
														</select>
													</div>
												</div>
												<!--div class="form-group col-sm-6">
													<label for="">Doors</label><br/>
													<select multiple chosen="{width: '100%'}">
														<option selected>Main Gate Front</option>
														<option>Main Gate Back</option>
														<option>Exit Gate Front</option>
														<option>Exit Gate Back</option>
														<option>Parking Entry Gate</option>
														<option>Parking Exit Gate</option>
														<option>Pool Gate</option>
														<option>Gym Gate</option>
													</select>
													<small class="pull-right"><a ui-sref="app.admin.door.doors">Add Door</a></small>
												</div-->
											</div>		
										</div>
										<div class="row">
											<div class="form-group col-md-12 legend mt-20">
												<p></p>
												<button type="button" onclick="window.history.back()" class="btn btn-default btn-rounded btn-ef btn-ef-6 btn-ef-6a mt-10">Cancel</button>
												<button type="submit" class="btn btn-default btn-rounded btn-ef btn-ef-6 btn-ef-6a mt-10">Save</button>
											</div>
										</div>
									</form>
								</div>
							</uib-tab>
						</uib-tabset>
					</div>
				</section>
			</div>
		</div>
	</div>
</div>
