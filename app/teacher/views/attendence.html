<link href="../build/css/custom.min.css" rel="stylesheet">
<script src="../build/js/custom.min.js"></script>

<!-- page content -->
<div class="right_col" role="main">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Attendence Record <small>Students</small></h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <!-- Split button -->
                        {{months[selectedMonth-1].name}}
                        <select ng-model="selectedMonth">
                                <option ng-repeat="x in months" value="{{x.value}}">{{x.name}}</option>
                            </select>

                    </li>
                    <li>
                        <!-- Split button -->
                        {{selectedYear}}
                        <select ng-model="selectedYear">
                                <option ng-repeat="x in years" value="{{x}}">{{x}}</option>
                            </select>

                    </li>
                    <li><a class="collapse-link"><i class="fa fa-chevron-down" ng-click="getAttendence()"></i></a>
                    </li>

                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content" style="display: none;">
                <table id="datatable-buttons" class="table table-striped table-bordered" style="font-size: 63%;">
                    <thead>
                        <tr>
                            <th>Roll no.</th>
                            <th>Name</th>
                            <th ng-repeat="d in dates">{{d.date}}  {{months[selectedMonth-1].name}}</th>
                        </tr>
                    </thead>


                    <tbody>
                        <tr ng-repeat="s in students">
                            <td>{{s.id}}</td>
                            <td style="width:20%;">{{s.name}}</td>
                            <td ng-repeat=" data in datas[s.index]">{{data}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Take Attendence <small>Student</small></h2>
                <ul class="nav navbar-right panel_toolbox">

                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <form id="demo-form" data-parsley-validate ng-submit="submitAttendence()">
                    <div class="row">
                        <div class="col-md-4 col-sm-4 col-xs-4">
                            <input type="date" class="form-control" ng-model="date" ng-required="true" />
                            <!--<input class="datepicker" ng-model="date" data-date-format="mm/dd/yyyy">-->

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6 col-sm-8 col-xs-12">
                            <table id="datatable-buttons" class="table table-striped table-bordered" style="width:40%">
                                <thead>
                                    <tr>
                                        <th>Roll no </th>
                                        <th>Name</th>
                                        <th>Absent</th>
                                        <th>Leave</th>
                                        <th>Expelled</th>
                                    </tr>
                                </thead>
                                <tr ng-repeat="data in listStudentData">
                                    <td> 1 </td>
                                    <td>{{data.name}} </td>
                                    <td>
                                        <center>
                                            <div class="radio">
                                                <label>
                                        <input type="radio"  name="{{data.id}}" value="A">
                                    </label>
                                            </div>
                                        </center>
                                    </td>
                                    <td>
                                        <center>
                                            <div class="radio">
                                                <label>
                                        <input type="radio"  name="{{data.id}}" value="L">
                                    </label>
                                            </div>
                                        </center>
                                    </td>
                                    <td>
                                        <center>
                                            <div class="radio">
                                                <label>
                                        <input type="radio" name="{{data.id}}" value="E">
                                    </label>
                                            </div>
                                        </center>
                                    </td>
                                </tr>
                                </tbody>
                            </table>

                            <input type="submit" class="btn btn-primary" value="Submit Attendence" />
                        </div>


                </form>
                </div>
            </div>
        </div>
    </div>
    <!-- /page content -->

    <script>
        $('#myDatepicker').datetimepicker();

        $('#myDatepicker2').datetimepicker({
            format: 'DD.MM.YYYY'
        });

        $('#myDatepicker3').datetimepicker({
            format: 'hh:mm A'
        });

        $('#myDatepicker4').datetimepicker({
            ignoreReadonly: true,
            allowInputToggle: true
        });

        $('#datetimepicker6').datetimepicker();

        $('#datetimepicker7').datetimepicker({
            useCurrent: false
        });

        $("#datetimepicker6").on("dp.change", function (e) {
            $('#datetimepicker7').data("DateTimePicker").minDate(e.date);
        });

        $("#datetimepicker7").on("dp.change", function (e) {
            $('#datetimepicker6').data("DateTimePicker").maxDate(e.date);
        });
    </script>